"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stream/route";
exports.ids = ["app/api/stream/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Cheff_Downloads_vibecodingcoin_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/stream/route.ts */ \"(rsc)/./src/app/api/stream/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stream/route\",\n        pathname: \"/api/stream\",\n        filename: \"route\",\n        bundlePath: \"app/api/stream/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Cheff\\\\Downloads\\\\vibecodingcoin\\\\src\\\\app\\\\api\\\\stream\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Cheff_Downloads_vibecodingcoin_src_app_api_stream_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/stream/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdHJlYW0lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0cmVhbSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNDaGVmZiU1Q0Rvd25sb2FkcyU1Q3ZpYmVjb2Rpbmdjb2luJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNDaGVmZiU1Q0Rvd25sb2FkcyU1Q3ZpYmVjb2Rpbmdjb2luJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzRCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNvZGluZ2NvaW4tcGl4ZWwtYmF0dGxlLz8wMmRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXENoZWZmXFxcXERvd25sb2Fkc1xcXFx2aWJlY29kaW5nY29pblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxzdHJlYW1cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0cmVhbS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N0cmVhbVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3RyZWFtL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcQ2hlZmZcXFxcRG93bmxvYWRzXFxcXHZpYmVjb2Rpbmdjb2luXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHN0cmVhbVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zdHJlYW0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/stream/route.ts":
/*!*************************************!*\
  !*** ./src/app/api/stream/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var _server_gameEngine__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/server/gameEngine */ \"(rsc)/./src/server/gameEngine.ts\");\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    const stream = new ReadableStream({\n        start (controller) {\n            const encoder = new TextEncoder();\n            // Send initial event based on current server phase\n            try {\n                const s = (0,_server_gameEngine__WEBPACK_IMPORTED_MODULE_0__.getCurrentState)();\n                if (s.phase === \"running\") {\n                    const initial = {\n                        type: \"snapshot\",\n                        tick: s.tick,\n                        startMs: s.startMs,\n                        roundId: s.roundId,\n                        pixels: s.pixels,\n                        holders: s.holders\n                    };\n                    controller.enqueue(encoder.encode(`data: ${JSON.stringify(initial)}\\n\\n`));\n                } else if (s.phase === \"winner\" && typeof s.winnerIndex === \"number\") {\n                    const initial = {\n                        type: \"winner\",\n                        winnerIndex: s.winnerIndex,\n                        nextRoundAt: s.nextRoundAt,\n                        holders: s.holders\n                    };\n                    controller.enqueue(encoder.encode(`data: ${JSON.stringify(initial)}\\n\\n`));\n                } else if (s.phase === \"claim\" || s.phase === \"snapshot\" || s.phase === \"starting\") {\n                    const initial = {\n                        type: \"phase\",\n                        phase: s.phase,\n                        endsAt: s.nextPhaseAt,\n                        feesPoolLamports: s.feesPoolLamports,\n                        holders: s.phase === \"snapshot\" ? s.holders : undefined\n                    };\n                    controller.enqueue(encoder.encode(`data: ${JSON.stringify(initial)}\\n\\n`));\n                }\n            } catch  {}\n            const remove = (0,_server_gameEngine__WEBPACK_IMPORTED_MODULE_0__.addClient)((chunk)=>controller.enqueue(chunk));\n            controller.enqueue(new TextEncoder().encode(\"retry: 1000\\n\\n\"));\n            return ()=>{\n                try {\n                    remove();\n                } catch  {}\n            };\n        }\n    });\n    return new Response(stream, {\n        headers: {\n            \"Content-Type\": \"text/event-stream\",\n            \"Cache-Control\": \"no-cache, no-transform\",\n            Connection: \"keep-alive\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdHJlYW0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnRTtBQUV6RCxNQUFNRSxVQUFVLFNBQVE7QUFDeEIsTUFBTUMsVUFBVSxnQkFBZTtBQUUvQixlQUFlQztJQUNwQixNQUFNQyxTQUFTLElBQUlDLGVBQTJCO1FBQzVDQyxPQUFNQyxVQUFVO1lBQ2QsTUFBTUMsVUFBVSxJQUFJQztZQUVwQixtREFBbUQ7WUFDbkQsSUFBSTtnQkFDRixNQUFNQyxJQUFJVixtRUFBZUE7Z0JBQ3pCLElBQUlVLEVBQUVDLEtBQUssS0FBSyxXQUFXO29CQUN6QixNQUFNQyxVQUFVO3dCQUFFQyxNQUFNO3dCQUFZQyxNQUFNSixFQUFFSSxJQUFJO3dCQUFFQyxTQUFTTCxFQUFFSyxPQUFPO3dCQUFFQyxTQUFTTixFQUFFTSxPQUFPO3dCQUFFQyxRQUFRUCxFQUFFTyxNQUFNO3dCQUFFQyxTQUFTUixFQUFFUSxPQUFPO29CQUFDO29CQUMvSFgsV0FBV1ksT0FBTyxDQUFDWCxRQUFRWSxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUVDLEtBQUtDLFNBQVMsQ0FBQ1YsU0FBUyxJQUFJLENBQUM7Z0JBQzFFLE9BQU8sSUFBSUYsRUFBRUMsS0FBSyxLQUFLLFlBQVksT0FBT0QsRUFBRWEsV0FBVyxLQUFLLFVBQVU7b0JBQ3BFLE1BQU1YLFVBQVU7d0JBQUVDLE1BQU07d0JBQVVVLGFBQWFiLEVBQUVhLFdBQVc7d0JBQUVDLGFBQWFkLEVBQUVjLFdBQVc7d0JBQUVOLFNBQVNSLEVBQUVRLE9BQU87b0JBQUM7b0JBQzdHWCxXQUFXWSxPQUFPLENBQUNYLFFBQVFZLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRUMsS0FBS0MsU0FBUyxDQUFDVixTQUFTLElBQUksQ0FBQztnQkFDMUUsT0FBTyxJQUFJRixFQUFFQyxLQUFLLEtBQUssV0FBV0QsRUFBRUMsS0FBSyxLQUFLLGNBQWNELEVBQUVDLEtBQUssS0FBSyxZQUFZO29CQUNsRixNQUFNQyxVQUFVO3dCQUFFQyxNQUFNO3dCQUFTRixPQUFPRCxFQUFFQyxLQUFLO3dCQUFFYyxRQUFRZixFQUFFZ0IsV0FBVzt3QkFBRUMsa0JBQWtCLEVBQVdBLGdCQUFnQjt3QkFBRVQsU0FBU1IsRUFBRUMsS0FBSyxLQUFLLGFBQWFELEVBQUVRLE9BQU8sR0FBR1U7b0JBQVU7b0JBQy9LckIsV0FBV1ksT0FBTyxDQUFDWCxRQUFRWSxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUVDLEtBQUtDLFNBQVMsQ0FBQ1YsU0FBUyxJQUFJLENBQUM7Z0JBQzFFO1lBQ0YsRUFBRSxPQUFNLENBQUM7WUFFVCxNQUFNaUIsU0FBUzlCLDZEQUFTQSxDQUFDLENBQUMrQixRQUFVdkIsV0FBV1ksT0FBTyxDQUFDVztZQUN2RHZCLFdBQVdZLE9BQU8sQ0FBQyxJQUFJVixjQUFjVyxNQUFNLENBQUM7WUFDNUMsT0FBTztnQkFDTCxJQUFJO29CQUFFUztnQkFBUyxFQUFFLE9BQU0sQ0FBQztZQUMxQjtRQUNGO0lBQ0Y7SUFFQSxPQUFPLElBQUlFLFNBQVMzQixRQUFRO1FBQzFCNEIsU0FBUztZQUNQLGdCQUFnQjtZQUNoQixpQkFBaUI7WUFDakJDLFlBQVk7UUFDZDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY29kaW5nY29pbi1waXhlbC1iYXR0bGUvLi9zcmMvYXBwL2FwaS9zdHJlYW0vcm91dGUudHM/NmRjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhZGRDbGllbnQsIGdldEN1cnJlbnRTdGF0ZSB9IGZyb20gJ0Avc2VydmVyL2dhbWVFbmdpbmUnXG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcydcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5Pih7XG4gICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpXG5cbiAgICAgIC8vIFNlbmQgaW5pdGlhbCBldmVudCBiYXNlZCBvbiBjdXJyZW50IHNlcnZlciBwaGFzZVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcyA9IGdldEN1cnJlbnRTdGF0ZSgpXG4gICAgICAgIGlmIChzLnBoYXNlID09PSAncnVubmluZycpIHtcbiAgICAgICAgICBjb25zdCBpbml0aWFsID0geyB0eXBlOiAnc25hcHNob3QnLCB0aWNrOiBzLnRpY2ssIHN0YXJ0TXM6IHMuc3RhcnRNcywgcm91bmRJZDogcy5yb3VuZElkLCBwaXhlbHM6IHMucGl4ZWxzLCBob2xkZXJzOiBzLmhvbGRlcnMgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShpbml0aWFsKX1cXG5cXG5gKSlcbiAgICAgICAgfSBlbHNlIGlmIChzLnBoYXNlID09PSAnd2lubmVyJyAmJiB0eXBlb2Ygcy53aW5uZXJJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBjb25zdCBpbml0aWFsID0geyB0eXBlOiAnd2lubmVyJywgd2lubmVySW5kZXg6IHMud2lubmVySW5kZXgsIG5leHRSb3VuZEF0OiBzLm5leHRSb3VuZEF0LCBob2xkZXJzOiBzLmhvbGRlcnMgfVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShpbml0aWFsKX1cXG5cXG5gKSlcbiAgICAgICAgfSBlbHNlIGlmIChzLnBoYXNlID09PSAnY2xhaW0nIHx8IHMucGhhc2UgPT09ICdzbmFwc2hvdCcgfHwgcy5waGFzZSA9PT0gJ3N0YXJ0aW5nJykge1xuICAgICAgICAgIGNvbnN0IGluaXRpYWwgPSB7IHR5cGU6ICdwaGFzZScsIHBoYXNlOiBzLnBoYXNlLCBlbmRzQXQ6IHMubmV4dFBoYXNlQXQsIGZlZXNQb29sTGFtcG9ydHM6IChzIGFzIGFueSkuZmVlc1Bvb2xMYW1wb3J0cywgaG9sZGVyczogcy5waGFzZSA9PT0gJ3NuYXBzaG90JyA/IHMuaG9sZGVycyA6IHVuZGVmaW5lZCB9IGFzIGFueVxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShpbml0aWFsKX1cXG5cXG5gKSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuXG4gICAgICBjb25zdCByZW1vdmUgPSBhZGRDbGllbnQoKGNodW5rKSA9PiBjb250cm9sbGVyLmVucXVldWUoY2h1bmspKVxuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgncmV0cnk6IDEwMDBcXG5cXG4nKSlcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRyeSB7IHJlbW92ZSgpIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvZXZlbnQtc3RyZWFtJyxcbiAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlLCBuby10cmFuc2Zvcm0nLFxuICAgICAgQ29ubmVjdGlvbjogJ2tlZXAtYWxpdmUnXG4gICAgfVxuICB9KVxufVxuXG5cbiJdLCJuYW1lcyI6WyJhZGRDbGllbnQiLCJnZXRDdXJyZW50U3RhdGUiLCJydW50aW1lIiwiZHluYW1pYyIsIkdFVCIsInN0cmVhbSIsIlJlYWRhYmxlU3RyZWFtIiwic3RhcnQiLCJjb250cm9sbGVyIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwicyIsInBoYXNlIiwiaW5pdGlhbCIsInR5cGUiLCJ0aWNrIiwic3RhcnRNcyIsInJvdW5kSWQiLCJwaXhlbHMiLCJob2xkZXJzIiwiZW5xdWV1ZSIsImVuY29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3aW5uZXJJbmRleCIsIm5leHRSb3VuZEF0IiwiZW5kc0F0IiwibmV4dFBoYXNlQXQiLCJmZWVzUG9vbExhbXBvcnRzIiwidW5kZWZpbmVkIiwicmVtb3ZlIiwiY2h1bmsiLCJSZXNwb25zZSIsImhlYWRlcnMiLCJDb25uZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/stream/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/server/gameEngine.ts":
/*!**********************************!*\
  !*** ./src/server/gameEngine.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addClient: () => (/* binding */ addClient),\n/* harmony export */   getCurrentState: () => (/* binding */ getCurrentState),\n/* harmony export */   isRunning: () => (/* binding */ isRunning),\n/* harmony export */   setOnWinner: () => (/* binding */ setOnWinner),\n/* harmony export */   startRound: () => (/* binding */ startRound),\n/* harmony export */   startServerFlow: () => (/* binding */ startServerFlow)\n/* harmony export */ });\n// Simple server-side game engine with deterministic RNG and SSE broadcast\nconst encoder = new TextEncoder();\nlet state = {\n    running: false,\n    width: 50,\n    height: 50,\n    totalPixels: 2500,\n    pixels: [],\n    holders: [],\n    neighbors: [],\n    fightsPerTick: Math.max(200, Number(process.env.FIGHTS_PER_TICK || 1200)),\n    rngState: 12345,\n    tick: 0,\n    interval: null,\n    startMs: 0,\n    roundId: 0,\n    phase: \"idle\",\n    nextRoundAt: 0,\n    winnerIndex: null,\n    nextPhaseAt: 0,\n    phaseTimeout: null,\n    feesPoolLamports: 0\n};\nconst clients = new Map();\nlet nextClientId = 1;\nfunction rand() {\n    // LCG deterministic RNG\n    let s = state.rngState;\n    s = (s * 9301 + 49297) % 233280;\n    state.rngState = s;\n    return s / 233280;\n}\nfunction buildNeighbors(width, height) {\n    const total = width * height;\n    const nbs = Array.from({\n        length: total\n    }, ()=>[]);\n    for(let idx = 0; idx < total; idx++){\n        const x = idx % width;\n        const y = Math.floor(idx / width);\n        if (x > 0) nbs[idx].push(idx - 1);\n        if (x < width - 1) nbs[idx].push(idx + 1);\n        if (y > 0) nbs[idx].push(idx - width);\n        if (y < height - 1) nbs[idx].push(idx + width);\n    }\n    return nbs;\n}\nfunction distributePixelsDeterministic() {\n    const total = state.width * state.height;\n    const pixels = Array.from({\n        length: total\n    }, (_, i)=>({\n            index: i,\n            owner: null,\n            position: {\n                x: i % state.width,\n                y: Math.floor(i / state.width)\n            },\n            color: \"#333\"\n        }));\n    // Build and shuffle indices deterministically\n    const indices = Array.from({\n        length: total\n    }, (_, i)=>i);\n    for(let i = indices.length - 1; i > 0; i--){\n        const j = Math.floor(rand() * (i + 1));\n        const tmp = indices[i];\n        indices[i] = indices[j];\n        indices[j] = tmp;\n    }\n    const desiredCounts = state.holders.map((h)=>Math.max(0, Math.floor(h.pixels)));\n    let sum = desiredCounts.reduce((a, b)=>a + b, 0);\n    let remaining = total - sum;\n    let k = 0;\n    while(remaining > 0 && desiredCounts.length > 0){\n        desiredCounts[k % desiredCounts.length]++;\n        k++;\n        remaining--;\n    }\n    let cursor = 0;\n    for(let holderIndex = 0; holderIndex < state.holders.length; holderIndex++){\n        const count = Math.min(desiredCounts[holderIndex] || 0, indices.length - cursor);\n        const color = state.holders[holderIndex].color;\n        for(let c = 0; c < count; c++){\n            const pixIdx = indices[cursor++];\n            pixels[pixIdx].owner = holderIndex;\n            pixels[pixIdx].color = color;\n        }\n        if (cursor >= indices.length) break;\n    }\n    state.pixels = pixels;\n}\nfunction tickOnce() {\n    if (!state.running) return;\n    const total = state.pixels.length;\n    if (total <= 0) return;\n    for(let r = 0; r < state.fightsPerTick; r++){\n        const aIndex = Math.min(total - 1, Math.max(0, Math.floor(rand() * total)));\n        const aOwner = state.pixels[aIndex].owner;\n        if (aOwner === null) continue;\n        const neighbors = state.neighbors[aIndex];\n        if (!neighbors || neighbors.length === 0) continue;\n        const pick = Math.min(neighbors.length - 1, Math.max(0, Math.floor(rand() * neighbors.length)));\n        const bIndex = neighbors[pick];\n        if (typeof bIndex !== \"number\" || bIndex < 0 || bIndex >= total) continue;\n        const bOwner = state.pixels[bIndex].owner;\n        if (bOwner === null || bOwner === aOwner) continue;\n        const holderA = state.holders[aOwner];\n        const holderB = state.holders[bOwner];\n        const probA = 0.5;\n        if (rand() < probA) {\n            state.pixels[bIndex].owner = aOwner;\n            state.pixels[bIndex].color = holderA.color;\n        } else {\n            state.pixels[aIndex].owner = bOwner;\n            state.pixels[aIndex].color = holderB.color;\n        }\n    }\n    state.tick++;\n    // Broadcast snapshot (throttled)\n    if (state.tick % 4 === 0) {\n        broadcast({\n            type: \"snapshot\",\n            tick: state.tick,\n            startMs: state.startMs,\n            roundId: state.roundId,\n            pixels: state.pixels,\n            holders: state.holders\n        });\n    }\n    // Winner check: only one owner remains\n    const counts = {};\n    for(let i = 0; i < state.pixels.length; i++){\n        const o = state.pixels[i].owner;\n        if (o !== null) counts[o] = (counts[o] || 0) + 1;\n    }\n    const owners = Object.keys(counts);\n    if (owners.length === 1) {\n        const winnerIndex = parseInt(owners[0]);\n        state.winnerIndex = winnerIndex;\n        state.phase = \"winner\";\n        state.running = false;\n        state.nextRoundAt = Date.now() + 10000;\n        broadcast({\n            type: \"winner\",\n            winnerIndex,\n            nextRoundAt: state.nextRoundAt,\n            holders: state.holders\n        });\n        stop();\n        // Efter 10s (winner-visning) starter vi næste serverflow\n        try {\n            clearPhaseTimeout();\n            state.phaseTimeout = setTimeout(()=>{\n                try {\n                    state.onWinner && state.onWinner(winnerIndex);\n                } catch  {}\n            }, 10000);\n        } catch  {}\n    }\n}\nfunction start(params) {\n    stop();\n    state.width = params.width && params.width > 0 ? params.width : 50;\n    state.height = params.height && params.height > 0 ? params.height : 50;\n    state.totalPixels = state.width * state.height;\n    state.holders = params.holders || [];\n    state.fightsPerTick = params.fightsPerTick && params.fightsPerTick > 0 ? params.fightsPerTick : 4000;\n    state.rngState = typeof params.seed === \"number\" ? params.seed : 12345;\n    state.neighbors = buildNeighbors(state.width, state.height);\n    state.tick = 0;\n    state.startMs = Date.now();\n    state.roundId = (state.roundId || 0) + 1;\n    state.phase = \"running\";\n    state.nextRoundAt = 0;\n    state.winnerIndex = null;\n    state.nextPhaseAt = 0;\n    distributePixelsDeterministic();\n    state.running = true;\n    const tickMs = Math.max(10, Number(process.env.TICK_INTERVAL_MS || 15));\n    state.interval = setInterval(tickOnce, tickMs);\n}\nfunction stop() {\n    state.running = false;\n    if (state.interval) {\n        clearInterval(state.interval);\n        state.interval = null;\n    }\n}\nfunction broadcast(obj) {\n    const data = encoder.encode(`data: ${JSON.stringify(obj)}\\n\\n`);\n    clients.forEach((client)=>{\n        try {\n            client.enqueue(data);\n        } catch  {}\n    });\n}\nfunction addClient(enqueue) {\n    const id = nextClientId++;\n    clients.set(id, {\n        enqueue,\n        id\n    });\n    // Send a hello event to open the stream\n    try {\n        enqueue(encoder.encode(\": connected\\n\\n\"));\n    } catch  {}\n    return ()=>{\n        clients.delete(id);\n    };\n}\nfunction startRound(params) {\n    start(params);\n}\nfunction getCurrentState() {\n    return {\n        running: state.running,\n        tick: state.tick,\n        width: state.width,\n        height: state.height,\n        holders: state.holders,\n        pixels: state.pixels,\n        startMs: state.startMs,\n        roundId: state.roundId,\n        phase: state.phase,\n        nextRoundAt: state.nextRoundAt,\n        winnerIndex: state.winnerIndex,\n        nextPhaseAt: state.nextPhaseAt\n    };\n}\nfunction isRunning() {\n    return state.running;\n}\nfunction setOnWinner(handler) {\n    state.onWinner = handler;\n}\n// --- Serverstyret fase-flow (claim -> snapshot -> starting -> running) ---\nfunction clearPhaseTimeout() {\n    if (state.phaseTimeout) {\n        clearTimeout(state.phaseTimeout);\n        state.phaseTimeout = null;\n    }\n}\nfunction defaultHolders() {\n    const total = 100;\n    const base = Math.floor(state.width * state.height / total);\n    return Array.from({\n        length: total\n    }, (_, i)=>({\n            address: `HOLDER_${i.toString().padStart(3, \"0\")}`,\n            balance: 1,\n            percentage: 1,\n            pixels: base,\n            color: `hsl(${Math.round(i * 360 / total)}, 80%, 50%)`\n        }));\n}\nfunction startServerFlow(params) {\n    clearPhaseTimeout();\n    stop();\n    state.phase = \"idle\";\n    state.running = false;\n    state.winnerIndex = null;\n    const claimMs = typeof params?.claimMs === \"number\" ? params.claimMs : 1000;\n    const snapshotMs = typeof params?.snapshotMs === \"number\" ? params.snapshotMs : 5000;\n    const startingMs = typeof params?.startingMs === \"number\" ? params.startingMs : 3000;\n    // Phase: claim\n    state.phase = \"claim\";\n    state.nextPhaseAt = Date.now() + claimMs;\n    state.feesPoolLamports = 0;\n    broadcast({\n        type: \"phase\",\n        phase: \"claim\",\n        endsAt: state.nextPhaseAt,\n        feesPoolLamports: state.feesPoolLamports\n    });\n    state.phaseTimeout = setTimeout(()=>{\n        // Phase: snapshot (bestem holders)\n        state.phase = \"snapshot\";\n        state.nextPhaseAt = Date.now() + snapshotMs;\n        // For nu: brug params.holders eller default\n        state.holders = params?.holders && params.holders.length ? params.holders : defaultHolders();\n        broadcast({\n            type: \"phase\",\n            phase: \"snapshot\",\n            endsAt: state.nextPhaseAt,\n            holders: state.holders,\n            feesPoolLamports: state.feesPoolLamports\n        });\n        clearPhaseTimeout();\n        state.phaseTimeout = setTimeout(()=>{\n            // Phase: starting (nedtælling før running)\n            state.phase = \"starting\";\n            state.nextPhaseAt = Date.now() + startingMs;\n            broadcast({\n                type: \"phase\",\n                phase: \"starting\",\n                endsAt: state.nextPhaseAt,\n                feesPoolLamports: state.feesPoolLamports\n            });\n            clearPhaseTimeout();\n            state.phaseTimeout = setTimeout(()=>{\n                // Start round (running)\n                start({\n                    holders: state.holders,\n                    seed: Date.now() % 100000,\n                    fightsPerTick: Math.max(200, Number(process.env.FIGHTS_PER_TICK || 1200)),\n                    width: state.width,\n                    height: state.height\n                });\n            }, startingMs);\n        }, snapshotMs);\n    }, claimMs);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixNQUFNUixLQUFLQyxHQUFHLEtBQUs7b0JBQVE5RSxlQUFlQyxLQUFLQyxHQUFHLENBQUMsS0FBS0MsT0FBT0MsUUFBUUMsR0FBRyxDQUFDQyxlQUFlLElBQUk7b0JBQVFaLE9BQU9GLE1BQU1FLEtBQUs7b0JBQUVDLFFBQVFILE1BQU1HLE1BQU07Z0JBQUM7WUFDakwsR0FBRzRIO1FBQ0wsR0FBR0Q7SUFDTCxHQUFHRDtBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNvZGluZ2NvaW4tcGl4ZWwtYmF0dGxlLy4vc3JjL3NlcnZlci9nYW1lRW5naW5lLnRzP2ZhNWQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2ltcGxlIHNlcnZlci1zaWRlIGdhbWUgZW5naW5lIHdpdGggZGV0ZXJtaW5pc3RpYyBSTkcgYW5kIFNTRSBicm9hZGNhc3RcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSG9sZGVyIHtcclxuICBhZGRyZXNzOiBzdHJpbmdcclxuICBiYWxhbmNlOiBudW1iZXJcclxuICBwZXJjZW50YWdlOiBudW1iZXJcclxuICBwaXhlbHM6IG51bWJlclxyXG4gIGNvbG9yOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQaXhlbCB7XHJcbiAgaW5kZXg6IG51bWJlclxyXG4gIG93bmVyOiBudW1iZXIgfCBudWxsXHJcbiAgcG9zaXRpb246IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfVxyXG4gIGNvbG9yOiBzdHJpbmdcclxufVxyXG5cclxudHlwZSBDbGllbnQgPSB7XHJcbiAgZW5xdWV1ZTogKGNodW5rOiBVaW50OEFycmF5KSA9PiB2b2lkXHJcbiAgaWQ6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgRW5naW5lU3RhdGUge1xyXG4gIHJ1bm5pbmc6IGJvb2xlYW5cclxuICB3aWR0aDogbnVtYmVyXHJcbiAgaGVpZ2h0OiBudW1iZXJcclxuICB0b3RhbFBpeGVsczogbnVtYmVyXHJcbiAgcGl4ZWxzOiBQaXhlbFtdXHJcbiAgaG9sZGVyczogSG9sZGVyW11cclxuICBuZWlnaGJvcnM6IG51bWJlcltdW11cclxuICBmaWdodHNQZXJUaWNrOiBudW1iZXJcclxuICBybmdTdGF0ZTogbnVtYmVyXHJcbiAgdGljazogbnVtYmVyXHJcbiAgaW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbFxyXG4gIG9uV2lubmVyPzogKHdpbm5lckluZGV4OiBudW1iZXIpID0+IHZvaWRcclxuICBzdGFydE1zOiBudW1iZXJcclxuICByb3VuZElkOiBudW1iZXJcclxuICBwaGFzZTogJ2lkbGUnIHwgJ2NsYWltJyB8ICdzbmFwc2hvdCcgfCAnc3RhcnRpbmcnIHwgJ3J1bm5pbmcnIHwgJ3dpbm5lcidcclxuICBuZXh0Um91bmRBdDogbnVtYmVyXHJcbiAgd2lubmVySW5kZXg/OiBudW1iZXIgfCBudWxsXHJcbiAgbmV4dFBoYXNlQXQ6IG51bWJlclxyXG4gIHBoYXNlVGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCBudWxsXHJcbiAgZmVlc1Bvb2xMYW1wb3J0czogbnVtYmVyXHJcbn1cclxuXHJcbmNvbnN0IGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKVxyXG5cclxubGV0IHN0YXRlOiBFbmdpbmVTdGF0ZSA9IHtcclxuICBydW5uaW5nOiBmYWxzZSxcclxuICB3aWR0aDogNTAsXHJcbiAgaGVpZ2h0OiA1MCxcclxuICB0b3RhbFBpeGVsczogMjUwMCxcclxuICBwaXhlbHM6IFtdLFxyXG4gIGhvbGRlcnM6IFtdLFxyXG4gIG5laWdoYm9yczogW10sXHJcbiAgZmlnaHRzUGVyVGljazogTWF0aC5tYXgoMjAwLCBOdW1iZXIocHJvY2Vzcy5lbnYuRklHSFRTX1BFUl9USUNLIHx8IDEyMDApKSxcclxuICBybmdTdGF0ZTogMTIzNDUsXHJcbiAgdGljazogMCxcclxuICBpbnRlcnZhbDogbnVsbCxcclxuICBzdGFydE1zOiAwLFxyXG4gIHJvdW5kSWQ6IDAsXHJcbiAgcGhhc2U6ICdpZGxlJyxcclxuICBuZXh0Um91bmRBdDogMCxcclxuICB3aW5uZXJJbmRleDogbnVsbCxcclxuICBuZXh0UGhhc2VBdDogMCxcclxuICBwaGFzZVRpbWVvdXQ6IG51bGwsXHJcbiAgZmVlc1Bvb2xMYW1wb3J0czogMFxyXG59XHJcblxyXG5jb25zdCBjbGllbnRzID0gbmV3IE1hcDxudW1iZXIsIENsaWVudD4oKVxyXG5sZXQgbmV4dENsaWVudElkID0gMVxyXG5cclxuZnVuY3Rpb24gcmFuZCgpOiBudW1iZXIge1xyXG4gIC8vIExDRyBkZXRlcm1pbmlzdGljIFJOR1xyXG4gIGxldCBzID0gc3RhdGUucm5nU3RhdGVcclxuICBzID0gKHMgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwXHJcbiAgc3RhdGUucm5nU3RhdGUgPSBzXHJcbiAgcmV0dXJuIHMgLyAyMzMyODBcclxufVxyXG5cclxuZnVuY3Rpb24gYnVpbGROZWlnaGJvcnMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBudW1iZXJbXVtdIHtcclxuICBjb25zdCB0b3RhbCA9IHdpZHRoICogaGVpZ2h0XHJcbiAgY29uc3QgbmJzOiBudW1iZXJbXVtdID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWwgfSwgKCkgPT4gW10pXHJcbiAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgdG90YWw7IGlkeCsrKSB7XHJcbiAgICBjb25zdCB4ID0gaWR4ICUgd2lkdGhcclxuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGlkeCAvIHdpZHRoKVxyXG4gICAgaWYgKHggPiAwKSBuYnNbaWR4XS5wdXNoKGlkeCAtIDEpXHJcbiAgICBpZiAoeCA8IHdpZHRoIC0gMSkgbmJzW2lkeF0ucHVzaChpZHggKyAxKVxyXG4gICAgaWYgKHkgPiAwKSBuYnNbaWR4XS5wdXNoKGlkeCAtIHdpZHRoKVxyXG4gICAgaWYgKHkgPCBoZWlnaHQgLSAxKSBuYnNbaWR4XS5wdXNoKGlkeCArIHdpZHRoKVxyXG4gIH1cclxuICByZXR1cm4gbmJzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3RyaWJ1dGVQaXhlbHNEZXRlcm1pbmlzdGljKCk6IHZvaWQge1xyXG4gIGNvbnN0IHRvdGFsID0gc3RhdGUud2lkdGggKiBzdGF0ZS5oZWlnaHRcclxuICBjb25zdCBwaXhlbHM6IFBpeGVsW10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gKHtcclxuICAgIGluZGV4OiBpLFxyXG4gICAgb3duZXI6IG51bGwsXHJcbiAgICBwb3NpdGlvbjogeyB4OiBpICUgc3RhdGUud2lkdGgsIHk6IE1hdGguZmxvb3IoaSAvIHN0YXRlLndpZHRoKSB9LFxyXG4gICAgY29sb3I6ICcjMzMzJ1xyXG4gIH0pKVxyXG5cclxuICAvLyBCdWlsZCBhbmQgc2h1ZmZsZSBpbmRpY2VzIGRldGVybWluaXN0aWNhbGx5XHJcbiAgY29uc3QgaW5kaWNlczogbnVtYmVyW10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gaSlcclxuICBmb3IgKGxldCBpID0gaW5kaWNlcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcihyYW5kKCkgKiAoaSArIDEpKVxyXG4gICAgY29uc3QgdG1wID0gaW5kaWNlc1tpXVxyXG4gICAgaW5kaWNlc1tpXSA9IGluZGljZXNbal1cclxuICAgIGluZGljZXNbal0gPSB0bXBcclxuICB9XHJcblxyXG4gIGNvbnN0IGRlc2lyZWRDb3VudHMgPSBzdGF0ZS5ob2xkZXJzLm1hcChoID0+IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoaC5waXhlbHMpKSlcclxuICBsZXQgc3VtID0gZGVzaXJlZENvdW50cy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKVxyXG4gIGxldCByZW1haW5pbmcgPSB0b3RhbCAtIHN1bVxyXG4gIGxldCBrID0gMFxyXG4gIHdoaWxlIChyZW1haW5pbmcgPiAwICYmIGRlc2lyZWRDb3VudHMubGVuZ3RoID4gMCkge1xyXG4gICAgZGVzaXJlZENvdW50c1trICUgZGVzaXJlZENvdW50cy5sZW5ndGhdKytcclxuICAgIGsrK1xyXG4gICAgcmVtYWluaW5nLS1cclxuICB9XHJcblxyXG4gIGxldCBjdXJzb3IgPSAwXHJcbiAgZm9yIChsZXQgaG9sZGVySW5kZXggPSAwOyBob2xkZXJJbmRleCA8IHN0YXRlLmhvbGRlcnMubGVuZ3RoOyBob2xkZXJJbmRleCsrKSB7XHJcbiAgICBjb25zdCBjb3VudCA9IE1hdGgubWluKGRlc2lyZWRDb3VudHNbaG9sZGVySW5kZXhdIHx8IDAsIGluZGljZXMubGVuZ3RoIC0gY3Vyc29yKVxyXG4gICAgY29uc3QgY29sb3IgPSBzdGF0ZS5ob2xkZXJzW2hvbGRlckluZGV4XS5jb2xvclxyXG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjb3VudDsgYysrKSB7XHJcbiAgICAgIGNvbnN0IHBpeElkeCA9IGluZGljZXNbY3Vyc29yKytdXHJcbiAgICAgIHBpeGVsc1twaXhJZHhdLm93bmVyID0gaG9sZGVySW5kZXhcclxuICAgICAgcGl4ZWxzW3BpeElkeF0uY29sb3IgPSBjb2xvclxyXG4gICAgfVxyXG4gICAgaWYgKGN1cnNvciA+PSBpbmRpY2VzLmxlbmd0aCkgYnJlYWtcclxuICB9XHJcblxyXG4gIHN0YXRlLnBpeGVscyA9IHBpeGVsc1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aWNrT25jZSgpOiB2b2lkIHtcclxuICBpZiAoIXN0YXRlLnJ1bm5pbmcpIHJldHVyblxyXG4gIGNvbnN0IHRvdGFsID0gc3RhdGUucGl4ZWxzLmxlbmd0aFxyXG4gIGlmICh0b3RhbCA8PSAwKSByZXR1cm5cclxuXHJcbiAgZm9yIChsZXQgciA9IDA7IHIgPCBzdGF0ZS5maWdodHNQZXJUaWNrOyByKyspIHtcclxuICAgIGNvbnN0IGFJbmRleCA9IE1hdGgubWluKHRvdGFsIC0gMSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyYW5kKCkgKiB0b3RhbCkpKVxyXG4gICAgY29uc3QgYU93bmVyID0gc3RhdGUucGl4ZWxzW2FJbmRleF0ub3duZXJcclxuICAgIGlmIChhT3duZXIgPT09IG51bGwpIGNvbnRpbnVlXHJcbiAgICBjb25zdCBuZWlnaGJvcnMgPSBzdGF0ZS5uZWlnaGJvcnNbYUluZGV4XVxyXG4gICAgaWYgKCFuZWlnaGJvcnMgfHwgbmVpZ2hib3JzLmxlbmd0aCA9PT0gMCkgY29udGludWVcclxuICAgIGNvbnN0IHBpY2sgPSBNYXRoLm1pbihuZWlnaGJvcnMubGVuZ3RoIC0gMSwgTWF0aC5tYXgoMCwgTWF0aC5mbG9vcihyYW5kKCkgKiBuZWlnaGJvcnMubGVuZ3RoKSkpXHJcbiAgICBjb25zdCBiSW5kZXggPSBuZWlnaGJvcnNbcGlja11cclxuICAgIGlmICh0eXBlb2YgYkluZGV4ICE9PSAnbnVtYmVyJyB8fCBiSW5kZXggPCAwIHx8IGJJbmRleCA+PSB0b3RhbCkgY29udGludWVcclxuICAgIGNvbnN0IGJPd25lciA9IHN0YXRlLnBpeGVsc1tiSW5kZXhdLm93bmVyXHJcbiAgICBpZiAoYk93bmVyID09PSBudWxsIHx8IGJPd25lciA9PT0gYU93bmVyKSBjb250aW51ZVxyXG5cclxuICAgIGNvbnN0IGhvbGRlckEgPSBzdGF0ZS5ob2xkZXJzW2FPd25lcl1cclxuICAgIGNvbnN0IGhvbGRlckIgPSBzdGF0ZS5ob2xkZXJzW2JPd25lcl1cclxuICAgIGNvbnN0IHByb2JBID0gMC41XHJcbiAgICBpZiAocmFuZCgpIDwgcHJvYkEpIHtcclxuICAgICAgc3RhdGUucGl4ZWxzW2JJbmRleF0ub3duZXIgPSBhT3duZXJcclxuICAgICAgc3RhdGUucGl4ZWxzW2JJbmRleF0uY29sb3IgPSBob2xkZXJBLmNvbG9yXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdGF0ZS5waXhlbHNbYUluZGV4XS5vd25lciA9IGJPd25lclxyXG4gICAgICBzdGF0ZS5waXhlbHNbYUluZGV4XS5jb2xvciA9IGhvbGRlckIuY29sb3JcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0YXRlLnRpY2srK1xyXG5cclxuICAvLyBCcm9hZGNhc3Qgc25hcHNob3QgKHRocm90dGxlZClcclxuICBpZiAoc3RhdGUudGljayAlIDQgPT09IDApIHtcclxuICAgIGJyb2FkY2FzdCh7IHR5cGU6ICdzbmFwc2hvdCcsIHRpY2s6IHN0YXRlLnRpY2ssIHN0YXJ0TXM6IHN0YXRlLnN0YXJ0TXMsIHJvdW5kSWQ6IHN0YXRlLnJvdW5kSWQsIHBpeGVsczogc3RhdGUucGl4ZWxzLCBob2xkZXJzOiBzdGF0ZS5ob2xkZXJzIH0pXHJcbiAgfVxyXG5cclxuICAvLyBXaW5uZXIgY2hlY2s6IG9ubHkgb25lIG93bmVyIHJlbWFpbnNcclxuICBjb25zdCBjb3VudHM6IFJlY29yZDxudW1iZXIsIG51bWJlcj4gPSB7fVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGUucGl4ZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBvID0gc3RhdGUucGl4ZWxzW2ldLm93bmVyXHJcbiAgICBpZiAobyAhPT0gbnVsbCkgY291bnRzW29dID0gKGNvdW50c1tvXSB8fCAwKSArIDFcclxuICB9XHJcbiAgY29uc3Qgb3duZXJzID0gT2JqZWN0LmtleXMoY291bnRzKVxyXG4gIGlmIChvd25lcnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICBjb25zdCB3aW5uZXJJbmRleCA9IHBhcnNlSW50KG93bmVyc1swXSlcclxuICAgIHN0YXRlLndpbm5lckluZGV4ID0gd2lubmVySW5kZXhcclxuICAgIHN0YXRlLnBoYXNlID0gJ3dpbm5lcidcclxuICAgIHN0YXRlLnJ1bm5pbmcgPSBmYWxzZVxyXG4gICAgc3RhdGUubmV4dFJvdW5kQXQgPSBEYXRlLm5vdygpICsgMTAwMDBcclxuICAgIGJyb2FkY2FzdCh7IHR5cGU6ICd3aW5uZXInLCB3aW5uZXJJbmRleCwgbmV4dFJvdW5kQXQ6IHN0YXRlLm5leHRSb3VuZEF0LCBob2xkZXJzOiBzdGF0ZS5ob2xkZXJzIH0pXHJcbiAgICBzdG9wKClcclxuICAgIC8vIEVmdGVyIDEwcyAod2lubmVyLXZpc25pbmcpIHN0YXJ0ZXIgdmkgbsOmc3RlIHNlcnZlcmZsb3dcclxuICAgIHRyeSB7XHJcbiAgICAgIGNsZWFyUGhhc2VUaW1lb3V0KClcclxuICAgICAgc3RhdGUucGhhc2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHsgc3RhdGUub25XaW5uZXIgJiYgc3RhdGUub25XaW5uZXIod2lubmVySW5kZXgpIH0gY2F0Y2gge31cclxuICAgICAgfSwgMTAwMDApXHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydChwYXJhbXM6IHsgaG9sZGVyczogSG9sZGVyW107IHNlZWQ/OiBudW1iZXI7IGZpZ2h0c1BlclRpY2s/OiBudW1iZXI7IHdpZHRoPzogbnVtYmVyOyBoZWlnaHQ/OiBudW1iZXIgfSk6IHZvaWQge1xyXG4gIHN0b3AoKVxyXG4gIHN0YXRlLndpZHRoID0gcGFyYW1zLndpZHRoICYmIHBhcmFtcy53aWR0aCA+IDAgPyBwYXJhbXMud2lkdGggOiA1MFxyXG4gIHN0YXRlLmhlaWdodCA9IHBhcmFtcy5oZWlnaHQgJiYgcGFyYW1zLmhlaWdodCA+IDAgPyBwYXJhbXMuaGVpZ2h0IDogNTBcclxuICBzdGF0ZS50b3RhbFBpeGVscyA9IHN0YXRlLndpZHRoICogc3RhdGUuaGVpZ2h0XHJcbiAgc3RhdGUuaG9sZGVycyA9IHBhcmFtcy5ob2xkZXJzIHx8IFtdXHJcbiAgc3RhdGUuZmlnaHRzUGVyVGljayA9IHBhcmFtcy5maWdodHNQZXJUaWNrICYmIHBhcmFtcy5maWdodHNQZXJUaWNrID4gMCA/IHBhcmFtcy5maWdodHNQZXJUaWNrIDogNDAwMFxyXG4gIHN0YXRlLnJuZ1N0YXRlID0gdHlwZW9mIHBhcmFtcy5zZWVkID09PSAnbnVtYmVyJyA/IHBhcmFtcy5zZWVkIDogMTIzNDVcclxuICBzdGF0ZS5uZWlnaGJvcnMgPSBidWlsZE5laWdoYm9ycyhzdGF0ZS53aWR0aCwgc3RhdGUuaGVpZ2h0KVxyXG4gIHN0YXRlLnRpY2sgPSAwXHJcbiAgc3RhdGUuc3RhcnRNcyA9IERhdGUubm93KClcclxuICBzdGF0ZS5yb3VuZElkID0gKHN0YXRlLnJvdW5kSWQgfHwgMCkgKyAxXHJcbiAgc3RhdGUucGhhc2UgPSAncnVubmluZydcclxuICBzdGF0ZS5uZXh0Um91bmRBdCA9IDBcclxuICBzdGF0ZS53aW5uZXJJbmRleCA9IG51bGxcclxuICBzdGF0ZS5uZXh0UGhhc2VBdCA9IDBcclxuICBkaXN0cmlidXRlUGl4ZWxzRGV0ZXJtaW5pc3RpYygpXHJcbiAgc3RhdGUucnVubmluZyA9IHRydWVcclxuICBjb25zdCB0aWNrTXMgPSBNYXRoLm1heCgxMCwgTnVtYmVyKHByb2Nlc3MuZW52LlRJQ0tfSU5URVJWQUxfTVMgfHwgMTUpKVxyXG4gIHN0YXRlLmludGVydmFsID0gc2V0SW50ZXJ2YWwodGlja09uY2UsIHRpY2tNcylcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcCgpOiB2b2lkIHtcclxuICBzdGF0ZS5ydW5uaW5nID0gZmFsc2VcclxuICBpZiAoc3RhdGUuaW50ZXJ2YWwpIHtcclxuICAgIGNsZWFySW50ZXJ2YWwoc3RhdGUuaW50ZXJ2YWwpXHJcbiAgICBzdGF0ZS5pbnRlcnZhbCA9IG51bGxcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJyb2FkY2FzdChvYmo6IGFueSk6IHZvaWQge1xyXG4gIGNvbnN0IGRhdGEgPSBlbmNvZGVyLmVuY29kZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeShvYmopfVxcblxcbmApXHJcbiAgY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNsaWVudC5lbnF1ZXVlKGRhdGEpXHJcbiAgICB9IGNhdGNoIHt9XHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZENsaWVudChlbnF1ZXVlOiAoY2h1bms6IFVpbnQ4QXJyYXkpID0+IHZvaWQpOiAoKSA9PiB2b2lkIHtcclxuICBjb25zdCBpZCA9IG5leHRDbGllbnRJZCsrXHJcbiAgY2xpZW50cy5zZXQoaWQsIHsgZW5xdWV1ZSwgaWQgfSlcclxuICAvLyBTZW5kIGEgaGVsbG8gZXZlbnQgdG8gb3BlbiB0aGUgc3RyZWFtXHJcbiAgdHJ5IHsgZW5xdWV1ZShlbmNvZGVyLmVuY29kZSgnOiBjb25uZWN0ZWRcXG5cXG4nKSkgfSBjYXRjaCB7fVxyXG4gIHJldHVybiAoKSA9PiB7XHJcbiAgICBjbGllbnRzLmRlbGV0ZShpZClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFJvdW5kKHBhcmFtczogeyBob2xkZXJzOiBIb2xkZXJbXTsgc2VlZD86IG51bWJlcjsgZmlnaHRzUGVyVGljaz86IG51bWJlcjsgd2lkdGg/OiBudW1iZXI7IGhlaWdodD86IG51bWJlciB9KSB7XHJcbiAgc3RhcnQocGFyYW1zKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFN0YXRlKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBydW5uaW5nOiBzdGF0ZS5ydW5uaW5nLFxyXG4gICAgdGljazogc3RhdGUudGljayxcclxuICAgIHdpZHRoOiBzdGF0ZS53aWR0aCxcclxuICAgIGhlaWdodDogc3RhdGUuaGVpZ2h0LFxyXG4gICAgaG9sZGVyczogc3RhdGUuaG9sZGVycyxcclxuICAgIHBpeGVsczogc3RhdGUucGl4ZWxzLFxyXG4gICAgc3RhcnRNczogc3RhdGUuc3RhcnRNcyxcclxuICAgIHJvdW5kSWQ6IHN0YXRlLnJvdW5kSWQsXHJcbiAgICBwaGFzZTogc3RhdGUucGhhc2UsXHJcbiAgICBuZXh0Um91bmRBdDogc3RhdGUubmV4dFJvdW5kQXQsXHJcbiAgICB3aW5uZXJJbmRleDogc3RhdGUud2lubmVySW5kZXgsXHJcbiAgICBuZXh0UGhhc2VBdDogc3RhdGUubmV4dFBoYXNlQXRcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1J1bm5pbmcoKSB7IHJldHVybiBzdGF0ZS5ydW5uaW5nIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRPbldpbm5lcihoYW5kbGVyOiAod2lubmVySW5kZXg6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gIHN0YXRlLm9uV2lubmVyID0gaGFuZGxlclxyXG59XHJcblxyXG4vLyAtLS0gU2VydmVyc3R5cmV0IGZhc2UtZmxvdyAoY2xhaW0gLT4gc25hcHNob3QgLT4gc3RhcnRpbmcgLT4gcnVubmluZykgLS0tXHJcblxyXG5mdW5jdGlvbiBjbGVhclBoYXNlVGltZW91dCgpIHtcclxuICBpZiAoc3RhdGUucGhhc2VUaW1lb3V0KSB7XHJcbiAgICBjbGVhclRpbWVvdXQoc3RhdGUucGhhc2VUaW1lb3V0KVxyXG4gICAgc3RhdGUucGhhc2VUaW1lb3V0ID0gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGVmYXVsdEhvbGRlcnMoKTogSG9sZGVyW10ge1xyXG4gIGNvbnN0IHRvdGFsID0gMTAwXHJcbiAgY29uc3QgYmFzZSA9IE1hdGguZmxvb3IoKHN0YXRlLndpZHRoICogc3RhdGUuaGVpZ2h0KSAvIHRvdGFsKVxyXG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gKHtcclxuICAgIGFkZHJlc3M6IGBIT0xERVJfJHtpLnRvU3RyaW5nKCkucGFkU3RhcnQoMywnMCcpfWAsXHJcbiAgICBiYWxhbmNlOiAxLFxyXG4gICAgcGVyY2VudGFnZTogMSxcclxuICAgIHBpeGVsczogYmFzZSxcclxuICAgIGNvbG9yOiBgaHNsKCR7TWF0aC5yb3VuZCgoaSAqIDM2MCkgLyB0b3RhbCl9LCA4MCUsIDUwJSlgXHJcbiAgfSkpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNlcnZlckZsb3cocGFyYW1zPzogeyBob2xkZXJzPzogSG9sZGVyW107IGNsYWltTXM/OiBudW1iZXI7IHNuYXBzaG90TXM/OiBudW1iZXI7IHN0YXJ0aW5nTXM/OiBudW1iZXIgfSkge1xyXG4gIGNsZWFyUGhhc2VUaW1lb3V0KClcclxuICBzdG9wKClcclxuICBzdGF0ZS5waGFzZSA9ICdpZGxlJ1xyXG4gIHN0YXRlLnJ1bm5pbmcgPSBmYWxzZVxyXG4gIHN0YXRlLndpbm5lckluZGV4ID0gbnVsbFxyXG4gIGNvbnN0IGNsYWltTXMgPSB0eXBlb2YgcGFyYW1zPy5jbGFpbU1zID09PSAnbnVtYmVyJyA/IHBhcmFtcyEuY2xhaW1NcyA6IDEwMDBcclxuICBjb25zdCBzbmFwc2hvdE1zID0gdHlwZW9mIHBhcmFtcz8uc25hcHNob3RNcyA9PT0gJ251bWJlcicgPyBwYXJhbXMhLnNuYXBzaG90TXMgOiA1MDAwXHJcbiAgY29uc3Qgc3RhcnRpbmdNcyA9IHR5cGVvZiBwYXJhbXM/LnN0YXJ0aW5nTXMgPT09ICdudW1iZXInID8gcGFyYW1zIS5zdGFydGluZ01zIDogMzAwMFxyXG5cclxuICAvLyBQaGFzZTogY2xhaW1cclxuICBzdGF0ZS5waGFzZSA9ICdjbGFpbSdcclxuICBzdGF0ZS5uZXh0UGhhc2VBdCA9IERhdGUubm93KCkgKyBjbGFpbU1zXHJcbiAgc3RhdGUuZmVlc1Bvb2xMYW1wb3J0cyA9IDBcclxuICBicm9hZGNhc3QoeyB0eXBlOiAncGhhc2UnLCBwaGFzZTogJ2NsYWltJywgZW5kc0F0OiBzdGF0ZS5uZXh0UGhhc2VBdCwgZmVlc1Bvb2xMYW1wb3J0czogc3RhdGUuZmVlc1Bvb2xMYW1wb3J0cyB9KVxyXG4gIHN0YXRlLnBoYXNlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gUGhhc2U6IHNuYXBzaG90IChiZXN0ZW0gaG9sZGVycylcclxuICAgIHN0YXRlLnBoYXNlID0gJ3NuYXBzaG90J1xyXG4gICAgc3RhdGUubmV4dFBoYXNlQXQgPSBEYXRlLm5vdygpICsgc25hcHNob3RNc1xyXG4gICAgLy8gRm9yIG51OiBicnVnIHBhcmFtcy5ob2xkZXJzIGVsbGVyIGRlZmF1bHRcclxuICAgIHN0YXRlLmhvbGRlcnMgPSAocGFyYW1zPy5ob2xkZXJzICYmIHBhcmFtcy5ob2xkZXJzLmxlbmd0aCA/IHBhcmFtcy5ob2xkZXJzIDogZGVmYXVsdEhvbGRlcnMoKSlcclxuICAgIGJyb2FkY2FzdCh7IHR5cGU6ICdwaGFzZScsIHBoYXNlOiAnc25hcHNob3QnLCBlbmRzQXQ6IHN0YXRlLm5leHRQaGFzZUF0LCBob2xkZXJzOiBzdGF0ZS5ob2xkZXJzLCBmZWVzUG9vbExhbXBvcnRzOiBzdGF0ZS5mZWVzUG9vbExhbXBvcnRzIH0pXHJcbiAgICBjbGVhclBoYXNlVGltZW91dCgpXHJcbiAgICBzdGF0ZS5waGFzZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgLy8gUGhhc2U6IHN0YXJ0aW5nIChuZWR0w6ZsbGluZyBmw7hyIHJ1bm5pbmcpXHJcbiAgICAgIHN0YXRlLnBoYXNlID0gJ3N0YXJ0aW5nJ1xyXG4gICAgICBzdGF0ZS5uZXh0UGhhc2VBdCA9IERhdGUubm93KCkgKyBzdGFydGluZ01zXHJcbiAgICAgIGJyb2FkY2FzdCh7IHR5cGU6ICdwaGFzZScsIHBoYXNlOiAnc3RhcnRpbmcnLCBlbmRzQXQ6IHN0YXRlLm5leHRQaGFzZUF0LCBmZWVzUG9vbExhbXBvcnRzOiBzdGF0ZS5mZWVzUG9vbExhbXBvcnRzIH0pXHJcbiAgICAgIGNsZWFyUGhhc2VUaW1lb3V0KClcclxuICAgICAgc3RhdGUucGhhc2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gU3RhcnQgcm91bmQgKHJ1bm5pbmcpXHJcbiAgICAgICAgc3RhcnQoeyBob2xkZXJzOiBzdGF0ZS5ob2xkZXJzLCBzZWVkOiBEYXRlLm5vdygpICUgMTAwMDAwLCBmaWdodHNQZXJUaWNrOiBNYXRoLm1heCgyMDAsIE51bWJlcihwcm9jZXNzLmVudi5GSUdIVFNfUEVSX1RJQ0sgfHwgMTIwMCkpLCB3aWR0aDogc3RhdGUud2lkdGgsIGhlaWdodDogc3RhdGUuaGVpZ2h0IH0pXHJcbiAgICAgIH0sIHN0YXJ0aW5nTXMpXHJcbiAgICB9LCBzbmFwc2hvdE1zKVxyXG4gIH0sIGNsYWltTXMpXHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwic3RhdGUiLCJydW5uaW5nIiwid2lkdGgiLCJoZWlnaHQiLCJ0b3RhbFBpeGVscyIsInBpeGVscyIsImhvbGRlcnMiLCJuZWlnaGJvcnMiLCJmaWdodHNQZXJUaWNrIiwiTWF0aCIsIm1heCIsIk51bWJlciIsInByb2Nlc3MiLCJlbnYiLCJGSUdIVFNfUEVSX1RJQ0siLCJybmdTdGF0ZSIsInRpY2siLCJpbnRlcnZhbCIsInN0YXJ0TXMiLCJyb3VuZElkIiwicGhhc2UiLCJuZXh0Um91bmRBdCIsIndpbm5lckluZGV4IiwibmV4dFBoYXNlQXQiLCJwaGFzZVRpbWVvdXQiLCJmZWVzUG9vbExhbXBvcnRzIiwiY2xpZW50cyIsIk1hcCIsIm5leHRDbGllbnRJZCIsInJhbmQiLCJzIiwiYnVpbGROZWlnaGJvcnMiLCJ0b3RhbCIsIm5icyIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsImlkeCIsIngiLCJ5IiwiZmxvb3IiLCJwdXNoIiwiZGlzdHJpYnV0ZVBpeGVsc0RldGVybWluaXN0aWMiLCJfIiwiaSIsImluZGV4Iiwib3duZXIiLCJwb3NpdGlvbiIsImNvbG9yIiwiaW5kaWNlcyIsImoiLCJ0bXAiLCJkZXNpcmVkQ291bnRzIiwibWFwIiwiaCIsInN1bSIsInJlZHVjZSIsImEiLCJiIiwicmVtYWluaW5nIiwiayIsImN1cnNvciIsImhvbGRlckluZGV4IiwiY291bnQiLCJtaW4iLCJjIiwicGl4SWR4IiwidGlja09uY2UiLCJyIiwiYUluZGV4IiwiYU93bmVyIiwicGljayIsImJJbmRleCIsImJPd25lciIsImhvbGRlckEiLCJob2xkZXJCIiwicHJvYkEiLCJicm9hZGNhc3QiLCJ0eXBlIiwiY291bnRzIiwibyIsIm93bmVycyIsIk9iamVjdCIsImtleXMiLCJwYXJzZUludCIsIkRhdGUiLCJub3ciLCJzdG9wIiwiY2xlYXJQaGFzZVRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib25XaW5uZXIiLCJzdGFydCIsInBhcmFtcyIsInNlZWQiLCJ0aWNrTXMiLCJUSUNLX0lOVEVSVkFMX01TIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwib2JqIiwiZGF0YSIsImVuY29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmb3JFYWNoIiwiY2xpZW50IiwiZW5xdWV1ZSIsImFkZENsaWVudCIsImlkIiwic2V0IiwiZGVsZXRlIiwic3RhcnRSb3VuZCIsImdldEN1cnJlbnRTdGF0ZSIsImlzUnVubmluZyIsInNldE9uV2lubmVyIiwiaGFuZGxlciIsImNsZWFyVGltZW91dCIsImRlZmF1bHRIb2xkZXJzIiwiYmFzZSIsImFkZHJlc3MiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiYmFsYW5jZSIsInBlcmNlbnRhZ2UiLCJyb3VuZCIsInN0YXJ0U2VydmVyRmxvdyIsImNsYWltTXMiLCJzbmFwc2hvdE1zIiwic3RhcnRpbmdNcyIsImVuZHNBdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/server/gameEngine.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstream%2Froute&page=%2Fapi%2Fstream%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstream%2Froute.ts&appDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CCheff%5CDownloads%5Cvibecodingcoin&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();